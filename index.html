<!-- Keep the rest of your HTML the same -->

<script>
  // Game logic
  const questions = [
    "Do you love me? ‚ù§Ô∏è",
    "Are you my favorite person? ü•∞",
    "Do you enjoy our memories together? ‚ú®",
    "Will you go on dates with me forever? üåπ",
    "Will you be my Valentine? üíñ"
  ];

  let index = -1;
  let loveScore = 0;

  const questionEl = document.getElementById("question");
  const scoreEl = document.getElementById("score");
  const yesBtn = document.getElementById("yesBtn");
  const noBtn = document.getElementById("noBtn");
  const music = document.getElementById("bgMusic");

  function startGame() {
    music.play();
    nextQuestion();
  }

  function nextQuestion() {
    index++;
    if (index < questions.length) {
      questionEl.textContent = questions[index];
    } else {
      questionEl.textContent = "You completed the love game! üíï";
      scoreEl.textContent = "Love Score: " + loveScore + "/5 ‚ù§Ô∏è";
      document.getElementById("finalMessage").classList.remove("hidden");
      startCelebration();
    }
  }

  yesBtn.addEventListener("click", () => {
    if (index >= 0 && index < questions.length) {
      loveScore++;
      nextQuestion();
    }
  });

  noBtn.addEventListener("click", () => {
    if (index >= 0 && index < questions.length) {
      questionEl.textContent = "Hmm... wrong answer üòÑ Try YES!";
    }
  });

  // Floating hearts in wavy paths
  function spawnHeart() {
    const heart = document.createElement("div");
    heart.className = "bg-heart";
    heart.innerHTML = "‚ù§";

    const startX = Math.random() * window.innerWidth;
    const startY = window.innerHeight + 20; // start below the screen
    const amplitude = 50 + Math.random() * 100; // wave width
    const frequency = 0.01 + Math.random() * 0.02; // wave speed
    const speed = 1 + Math.random() * 2; // vertical speed
    const size = 10 + Math.random() * 30;
    const color = `hsl(${Math.random() * 360}, 80%, 70%)`;
    const opacity = 0.3 + Math.random() * 0.7;
    let angle = Math.random() * 2 * Math.PI;

    heart.style.fontSize = size + "px";
    heart.style.color = color;
    heart.style.opacity = opacity;
    heart.style.left = startX + "px";
    heart.style.top = startY + "px";

    document.body.appendChild(heart);

    function animate() {
      angle += frequency * 20;
      startY -= speed;
      const x = startX + Math.sin(angle) * amplitude;
      const y = startY;
      heart.style.transform = `translate(${x - startX}px, ${y - startY}px) rotate(${angle*10}deg)`;

      if (y > -50) {
        requestAnimationFrame(animate);
      } else {
        heart.remove();
      }
    }

    requestAnimationFrame(animate);
  }

  // Spawn hearts continuously
  setInterval(spawnHeart, 150);

  // Celebration after final round
  function startCelebration() {
    // Show a big congratulation text
    const confettiText = document.createElement("div");
    confettiText.textContent = "üéâ Congratulations! ‚ù§Ô∏è üéâ";
    confettiText.style.position = "fixed";
    confettiText.style.top = "40%";
    confettiText.style.left = "50%";
    confettiText.style.transform = "translate(-50%, -50%)";
    confettiText.style.fontSize = "3rem";
    confettiText.style.color = "#ff3366";
    confettiText.style.zIndex = 1000;
    confettiText.style.textAlign = "center";
    confettiText.style.opacity = 0;
    confettiText.style.transition = "opacity 1s ease-in-out";
    document.body.appendChild(confettiText);

    setTimeout(() => { confettiText.style.opacity = 1; }, 100);
    setTimeout(() => { confettiText.style.opacity = 0; confettiText.remove(); }, 5000);

    // Spawn more hearts from center
    const celebrationInterval = setInterval(() => {
      const heart = document.createElement("div");
      heart.className = "bg-heart";
      heart.innerHTML = "‚ù§";

      const size = 20 + Math.random() * 40;
      const color = `hsl(${Math.random() * 360}, 80%, 70%)`;
      const opacity = 0.6 + Math.random() * 0.4;

      heart.style.fontSize = size + "px";
      heart.style.color = color;
      heart.style.opacity = opacity;
      heart.style.left = window.innerWidth / 2 + (Math.random() - 0.5) * 100 + "px";
      heart.style.top = window.innerHeight / 2 + (Math.random() - 0.5) * 50 + "px";

      document.body.appendChild(heart);

      let angle = Math.random() * 2 * Math.PI;
      const amplitude = 30 + Math.random() * 50;
      const speed = 2 + Math.random() * 3;

      function animate() {
        angle += 0.05;
        const x = (window.innerWidth / 2) + Math.sin(angle) * amplitude + (Math.random()-0.5)*10;
        const y = parseFloat(heart.style.top) - speed;
        heart.style.transform = `translate(${x - window.innerWidth/2}px, ${-speed}px) rotate(${angle*10}deg)`;
        heart.style.top = y + "px";

        if (y > -50) {
          requestAnimationFrame(animate);
        } else {
          heart.remove();
        }
      }

      requestAnimationFrame(animate);
    }, 100);

    // Stop celebration after 10 seconds
    setTimeout(() => clearInterval(celebrationInterval), 10000);
  }
</script>
